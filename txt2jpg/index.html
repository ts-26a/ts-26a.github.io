<!doctype html>
<html lang="ja">
    <script type="text/javascript">
        window.onload = function() {
            var param = location.search.replace("?txt=", "");
            param = decodeURI(param);
            var lines = param.split("\n");
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            ctx.font = "40px monospace";
            ctx.textAlign = "center";
            var line;
            line_len = lines.length;
            for (var i = 0; i < line_len; i++) {
                line = lines[i];
                ctx.fillText(line, 500, 40 * (i + 1));
            }
            var hiddenp = document.getElementById("hiddenp");
            hiddenp.innerHTML = canvas.toDataURL();
        }
    </script>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>txt2jpg</title>
    </head>
    <body>
        <div id="canvas_w">
            <canvas id="canvas" width="1000" height="1000"></canvas>
        </div>
        <p id="hiddenp"></p>
    </body>
</html>
